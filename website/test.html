<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            const socket = new WebSocket(
                "wss://gateway.discord.gg/v=9&encoding=json"
            );

            socket.addEventListener("open", function (event) {
                socket.send(
                    JSON.stringify({
                        op: 2,
                        d: {
                            token: "NzY0ODc2MzY5MTI5MjQyNjI0.X4MooQ.d7IMGSpQeGAgInKlkz1NP0q-ffQ",
                            capabilities: 253,
                            properties: {
                                os: "Linux",
                                browser: "Chrome",
                                device: "",
                                system_locale: "en-US",
                                browser_user_agent:
                                    "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36",
                                browser_version: "96.0.4664.110",
                                os_version: "",
                                referrer: "",
                                referring_domain: "",
                                referrer_current: "",
                                referring_domain_current: "",
                                release_channel: "stable",
                                client_build_number: 108924,
                                client_event_source: null,
                            },
                            presence: {
                                status: "online",
                                since: 0,
                                activities: [],
                                afk: false,
                            },
                            compress: false,
                            client_state: {
                                guild_hashes: {},
                                highest_last_message_id: "0",
                                read_state_version: 0,
                                user_guild_settings_version: -1,
                                user_settings_version: -1,
                            },
                        },
                    })
                );
            });

            setTimeout(() => {
                socket.send(
                    JSON.stringify({
                        op: 8,
                        d: {
                            guild_id: "761884792803033088",
                            query: "",
                            presences: false,
                        },
                    })
                );
            }, 2000);

            socket.addEventListener("message", function (event) {
                console.log(JSON.parse(event.data));
            });
        </script>
    </body>
</html>
